(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{"+ygO":function(t,e,n){"use strict";n.r(e),n.d(e,"WindowModule",(function(){return X}));var o=n("ofXK"),i=n("UPDU"),c=n("0AKQ"),r=n("IVq4"),s=n("4aFR"),a=n("fXoL"),l=n("pLZG"),u=n("Uv4G"),f=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var o=Array(t),i=0;for(e=0;e<n;e++)for(var c=arguments[e],r=0,s=c.length;r<s;r++,i++)o[i]=c[r];return o},p=function(t){return t.MINIMIZED="minimized",t.MAXIMIZED="maximized",t.FULL_SCREEN="full-screen",t}({}),b=function(){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.title="",this.initialState=p.FULL_SCREEN,this.hasBackdrop=!0,this.closeOnBackdropClick=!0,this.closeOnEsc=!0,this.windowClass="",this.context={},this.viewContainerRef=null,Object.assign.apply(Object,f([this],t))}}(),d=new a.r("Nebular Window Content"),h=new a.r("Nebular Window Config"),m=new a.r("Nebular Window Context"),w=n("jtHE"),y=n("XNiG"),g=function(){function t(t){this.config=t,this.stateChange$=new w.a(1),this._closed=!1,this.closed$=new y.a,this.state=t.initialState}return Object.defineProperty(t.prototype,"state",{get:function(){return this.stateValue},set:function(t){t&&this.stateValue!==t&&(this.prevStateValue=this.state,this.stateValue=t,this.stateChange$.next({oldState:this.prevStateValue,newState:t}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stateChange",{get:function(){return this.stateChange$.asObservable()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onClose",{get:function(){return this.closed$.asObservable()},enumerable:!1,configurable:!0}),t.prototype.minimize=function(){this.state=p.MINIMIZED},t.prototype.maximize=function(){this.state=p.MAXIMIZED},t.prototype.fullScreen=function(){this.state=p.FULL_SCREEN},t.prototype.toPreviousState=function(){this.state=this.prevStateValue},t.prototype.close=function(){this._closed||(this._closed=!0,this.componentRef.destroy(),this.stateChange$.complete(),this.closed$.next(),this.closed$.complete())},t}(),v=["viewContainerRef"],x=function(){function t(){}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Kb({type:t,selectors:[["nb-windows-container"]],viewQuery:function(t,e){var n;1&t&&a.Gc(v,!0,a.S),2&t&&a.yc(n=a.ic())&&(e.viewContainerRef=n.first)},decls:2,vars:0,consts:[["viewContainerRef",""]],template:function(t,e){1&t&&a.Sb(0,null,0)},styles:["[_nghost-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end;overflow-x:auto}[_nghost-%COMP%]     nb-window:not(.full-screen){margin:0 2rem}"]}),t}(),C=n("UURD"),k=n("BIO7"),O=n("S+eJ"),R=n("b9/t"),M=n("FuSZ");function W(t,e){if(1&t){var n=a.Xb();a.Wb(0,"button",2),a.hc("click",(function(){return a.Cc(n),a.lc().maximize()})),a.Rb(1,"nb-icon",7),a.Vb()}}function S(t,e){if(1&t){var n=a.Xb();a.Wb(0,"button",2),a.hc("click",(function(){return a.Cc(n),a.lc().maximizeOrFullScreen()})),a.Rb(1,"nb-icon",8),a.Vb()}}function P(t,e){1&t&&(a.Wb(0,"nb-card-body"),a.Rb(1,"nb-overlay-container"),a.Vb())}var _=function(){function t(t,e,n,o,i,c,r){this.content=t,this.context=e,this.windowRef=n,this.config=o,this.focusTrapFactory=i,this.elementRef=c,this.renderer=r}return Object.defineProperty(t.prototype,"isFullScreen",{get:function(){return this.windowRef.state===p.FULL_SCREEN},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maximized",{get:function(){return this.windowRef.state===p.MAXIMIZED},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minimized",{get:function(){return this.windowRef.state===p.MINIMIZED},enumerable:!1,configurable:!0}),t.prototype.ngOnInit=function(){this.focusTrap=this.focusTrapFactory.create(this.elementRef.nativeElement),this.focusTrap.blurPreviouslyFocusedElement(),this.focusTrap.focusInitialElement(),this.config.windowClass&&this.renderer.addClass(this.elementRef.nativeElement,this.config.windowClass)},t.prototype.ngAfterViewChecked=function(){this.overlayContainer&&!this.overlayContainer.isAttached&&(this.content instanceof a.N?this.attachTemplate():this.attachComponent())},t.prototype.ngOnDestroy=function(){this.focusTrap&&this.focusTrap.restoreFocus(),this.close()},t.prototype.minimize=function(){this.windowRef.state===p.MINIMIZED?this.windowRef.toPreviousState():this.windowRef.minimize()},t.prototype.maximize=function(){this.windowRef.maximize()},t.prototype.fullScreen=function(){this.windowRef.fullScreen()},t.prototype.maximizeOrFullScreen=function(){this.windowRef.state===p.MINIMIZED?this.maximize():this.fullScreen()},t.prototype.close=function(){this.windowRef.close()},t.prototype.attachTemplate=function(){this.overlayContainer.attachTemplatePortal(new u.j(this.content,null,this.context))},t.prototype.attachComponent=function(){var t=new u.b(this.content,null,null,this.cfr);this.overlayContainer.attachComponentPortal(t,this.context).changeDetectorRef.detectChanges()},t.\u0275fac=function(e){return new(e||t)(a.Qb(d),a.Qb(m),a.Qb(g),a.Qb(b),a.Qb(k.a),a.Qb(a.l),a.Qb(a.F))},t.\u0275cmp=a.Kb({type:t,selectors:[["nb-window"]],viewQuery:function(t,e){var n;1&t&&a.Qc(C.a,!0),2&t&&a.yc(n=a.ic())&&(e.overlayContainer=n.first)},hostVars:6,hostBindings:function(t,e){2&t&&a.Ib("full-screen",e.isFullScreen)("maximized",e.maximized)("minimized",e.minimized)},inputs:{cfr:"cfr"},decls:12,vars:4,consts:[["cdkFocusInitial","","tabindex","-1",1,"title"],[1,"buttons"],["nbButton","","ghost","",3,"click"],["icon","minus-outline","pack","nebular-essentials"],["nbButton","","ghost","",3,"click",4,"ngIf"],["icon","close-outline","pack","nebular-essentials"],[4,"ngIf"],["icon","collapse-outline","pack","nebular-essentials"],["icon","expand-outline","pack","nebular-essentials"]],template:function(t,e){1&t&&(a.Wb(0,"nb-card"),a.Wb(1,"nb-card-header"),a.Wb(2,"div",0),a.Lc(3),a.Vb(),a.Wb(4,"div",1),a.Wb(5,"button",2),a.hc("click",(function(){return e.minimize()})),a.Rb(6,"nb-icon",3),a.Vb(),a.Jc(7,W,2,0,"button",4),a.Jc(8,S,2,0,"button",4),a.Wb(9,"button",2),a.hc("click",(function(){return e.close()})),a.Rb(10,"nb-icon",5),a.Vb(),a.Vb(),a.Vb(),a.Jc(11,P,2,0,"nb-card-body",6),a.Vb()),2&t&&(a.Db(3),a.Mc(e.config.title),a.Db(4),a.rc("ngIf",e.isFullScreen),a.Db(1),a.rc("ngIf",e.minimized||e.maximized),a.Db(3),a.rc("ngIf",e.maximized||e.isFullScreen))},directives:[O.b,O.d,R.a,M.a,o.n,O.a,C.a],styles:["[_nghost-%COMP%]{-webkit-box-flex:1;-ms-flex:1 0 auto;flex:1 0 auto;min-width:20rem}[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{margin:0}[_nghost-%COMP%]   nb-card-header[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center;overflow:hidden}[_nghost-%COMP%]   .title[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1 0 auto;flex:1 0 auto;margin-right:3rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}[_nghost-%COMP%]   .buttons[_ngcontent-%COMP%]{width:9.5rem;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:space-evenly;-ms-flex-pack:space-evenly;justify-content:space-evenly}[_nghost-%COMP%]   .buttons[_ngcontent-%COMP%]   [nbButton][_ngcontent-%COMP%]{-webkit-box-flex:0;-ms-flex:0 0 3rem;flex:0 0 3rem}.full-screen[_nghost-%COMP%]{position:fixed;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.maximized[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%], .minimized[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{border-bottom-left-radius:0;border-bottom-right-radius:0}.minimized[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{height:auto}.minimized[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]   nb-card-header[_ngcontent-%COMP%]{border-bottom:none}"]}),t}(),V=n("MGne"),E=n("IMiA"),I=n("yGiC"),z=function(){function t(t,e,n,o,i,c,r){this.componentFactoryResolver=t,this.overlayService=e,this.overlayPositionBuilder=n,this.blockScrollStrategy=o,this.defaultWindowsConfig=i,this.cfr=c,this.openWindows=[],this.document=r}return t.prototype.open=function(t,e){void 0===e&&(e={}),this.shouldCreateWindowsContainer()&&this.createWindowsContainer();var n=new b(this.defaultWindowsConfig,e),o=new g(n);return o.componentRef=this.appendWindow(t,n,o),this.openWindows.push(o),this.subscribeToEvents(o),o},t.prototype.shouldCreateWindowsContainer=function(){return!this.windowsContainerViewRef||!this.document.body.contains(this.windowsContainerViewRef.element.nativeElement)},t.prototype.createWindowsContainer=function(){this.overlayRef&&this.overlayRef.dispose(),this.overlayRef=this.overlayService.create({scrollStrategy:this.overlayService.scrollStrategies.noop(),positionStrategy:this.overlayPositionBuilder.global().bottom().right(),hasBackdrop:!0});var t=new u.b(x,null,null,this.cfr),e=this.overlayRef.attach(t);this.windowsContainerViewRef=e.instance.viewContainerRef},t.prototype.appendWindow=function(t,e,n){var o=a.s.create({parent:e.viewContainerRef?e.viewContainerRef.injector:this.windowsContainerViewRef.injector,providers:[{provide:d,useValue:t},{provide:m,useValue:t instanceof a.N?{$implicit:e.context,windowRef:n}:e.context},{provide:b,useValue:e},{provide:g,useValue:n}]}),i=this.componentFactoryResolver.resolveComponentFactory(_),c=this.windowsContainerViewRef.createComponent(i,null,o);return c.instance.cfr=this.cfr,c.changeDetectorRef.detectChanges(),c},t.prototype.subscribeToEvents=function(t){var e=this;t.config.closeOnBackdropClick&&this.overlayRef.backdropClick().subscribe((function(){return t.close()})),t.config.closeOnEsc&&this.overlayRef.keydownEvents().pipe(Object(l.a)((function(t){return 27===t.keyCode}))).subscribe((function(){return t.close()})),t.stateChange.subscribe((function(){return e.checkAndUpdateOverlay()})),t.onClose.subscribe((function(){e.openWindows.splice(e.openWindows.indexOf(t),1),e.checkAndUpdateOverlay()}))},t.prototype.checkAndUpdateOverlay=function(){var t=this.openWindows.filter((function(t){return t.state===p.FULL_SCREEN}));t.length>0?this.blockScrollStrategy.enable():this.blockScrollStrategy.disable(),t.some((function(t){return t.config.hasBackdrop}))?this.overlayRef.backdropElement.removeAttribute("hidden"):this.overlayRef.backdropElement.setAttribute("hidden","")},t.\u0275fac=function(e){return new(e||t)(a.ec(a.j),a.ec(E.a),a.ec(u.f),a.ec(I.a),a.ec(h),a.ec(a.j),a.ec(V.b))},t.\u0275prov=a.Mb({token:t,factory:t.\u0275fac}),t}(),j=function(){function t(){}return t.forRoot=function(e){return{ngModule:t,providers:[z,{provide:h,useValue:e}]}},t.forChild=function(e){return{ngModule:t,providers:[z,{provide:h,useValue:e}]}},t.\u0275mod=a.Ob({type:t}),t.\u0275inj=a.Nb({factory:function(e){return new(e||t)},imports:[[o.c,i.a,c.a,r.a,s.a]]}),t}(),N=n("+Zd3"),F=n("tyNb"),L=["contentTemplate"];function B(t,e){if(1&t&&(a.Wb(0,"p"),a.Lc(1),a.Vb()),2&t){var n=e.$implicit;a.Db(1),a.Nc('Here is the text provided via config: "',n.text,'"')}}var T=function(){function t(t){this.windowService=t}return t.prototype.openWindow=function(){this.windowService.open(this.contentTemplate,{title:"Window content from template",context:{text:"some text to pass into template"}})},t.\u0275fac=function(e){return new(e||t)(a.Qb(z))},t.\u0275cmp=a.Kb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&a.Qc(L,!0),2&t&&a.yc(n=a.ic())&&(e.contentTemplate=n.first)},decls:4,vars:0,consts:[["nbButton","",3,"click"],["contentTemplate",""]],template:function(t,e){1&t&&(a.Wb(0,"button",0),a.hc("click",(function(){return e.openWindow()})),a.Lc(1,"Open window"),a.Vb(),a.Jc(2,B,2,1,"ng-template",null,1,a.Kc))},directives:[R.a],styles:["nb-layout-column{height:400px}  .form{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}  .form .text-label{margin-top:1.5rem}button[_ngcontent-%COMP%] + button[_ngcontent-%COMP%]{margin-left:2rem}"]}),t}(),D=n("Dfz9"),Q=function(){function t(t){this.windowRef=t}return t.prototype.close=function(){this.windowRef.close()},t.\u0275fac=function(e){return new(e||t)(a.Qb(g))},t.\u0275cmp=a.Kb({type:t,selectors:[["ng-component"]],decls:7,vars:0,consts:[[1,"form"],["for","subject"],["nbInput","","id","subject","type","text"],["for","text",1,"text-label"],["nbInput","","id","text"]],template:function(t,e){1&t&&(a.Wb(0,"form",0),a.Wb(1,"label",1),a.Lc(2,"Subject:"),a.Vb(),a.Rb(3,"input",2),a.Wb(4,"label",3),a.Lc(5,"Text:"),a.Vb(),a.Rb(6,"textarea",4),a.Vb())},directives:[D.a],encapsulation:2}),t}(),A=["escClose"],U=["disabledEsc"];function K(t,e){1&t&&a.Lc(0," Disabled close on escape click. ")}function Z(t,e){1&t&&a.Lc(0," Click escape to close. ")}var $=[{path:"template-window.component",component:T},{path:"window-showcase.component",component:function(){function t(t){this.windowService=t}return t.prototype.openWindow=function(){this.windowService.open(Q,{title:"Window"})},t.\u0275fac=function(e){return new(e||t)(a.Qb(z))},t.\u0275cmp=a.Kb({type:t,selectors:[["ng-component"]],decls:2,vars:0,consts:[["nbButton","",3,"click"]],template:function(t,e){1&t&&(a.Wb(0,"button",0),a.hc("click",(function(){return e.openWindow()})),a.Lc(1,"Open window"),a.Vb())},directives:[R.a],styles:["nb-layout-column{height:400px}  .form{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}  .form .text-label{margin-top:1.5rem}button[_ngcontent-%COMP%] + button[_ngcontent-%COMP%]{margin-left:2rem}"]}),t}()},{path:"windows-backdrop.component",component:function(){function t(t){this.windowService=t}return t.prototype.openWindowWithBackdrop=function(){this.windowService.open(this.escCloseTemplate,{title:"Window with backdrop",hasBackdrop:!0})},t.prototype.openWindowWithoutBackdrop=function(){this.windowService.open(this.disabledEscTemplate,{title:"Window without backdrop",hasBackdrop:!1,closeOnEsc:!1})},t.\u0275fac=function(e){return new(e||t)(a.Qb(z))},t.\u0275cmp=a.Kb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&(a.Qc(A,!0,a.N),a.Qc(U,!0,a.N)),2&t&&(a.yc(n=a.ic())&&(e.escCloseTemplate=n.first),a.yc(n=a.ic())&&(e.disabledEscTemplate=n.first))},decls:8,vars:0,consts:[["nbButton","",3,"click"],["disabledEsc",""],["escClose",""]],template:function(t,e){1&t&&(a.Wb(0,"button",0),a.hc("click",(function(){return e.openWindowWithBackdrop()})),a.Lc(1,"Open window with backdrop"),a.Vb(),a.Wb(2,"button",0),a.hc("click",(function(){return e.openWindowWithoutBackdrop()})),a.Lc(3,"Open window without backdrop"),a.Vb(),a.Jc(4,K,1,0,"ng-template",null,1,a.Kc),a.Jc(6,Z,1,0,"ng-template",null,2,a.Kc))},directives:[R.a],styles:["nb-layout-column{height:400px}  .form{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}  .form .text-label{margin-top:1.5rem}button[_ngcontent-%COMP%] + button[_ngcontent-%COMP%]{margin-left:2rem}"]}),t}()}],J=function(){function t(){}return t.\u0275mod=a.Ob({type:t}),t.\u0275inj=a.Nb({factory:function(e){return new(e||t)},imports:[[F.g.forChild($)],F.g]}),t}(),X=function(){function t(){}return t.\u0275mod=a.Ob({type:t}),t.\u0275inj=a.Nb({factory:function(e){return new(e||t)},imports:[[j.forRoot(),s.a,N.a,J]]}),t}()}}]);