(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{"/EDb":function(e,t,a){"use strict";a.r(t);var n=a("Valr"),s=a("i6JN"),r=a("4aFR"),i=a("+Zd3"),o=a("IVq4"),c=a("FA0J"),l=a("TYT/"),u=a("E1rE"),p=a("Dfz9"),f=a("QJY3"),g=a("FuSZ"),m=a("b9/t");function d(e,t){if(1&e){var a=l.bc();l.ac(0,"div"),l.ac(1,"span",8),l.mc("click",(function(){l.Hc(a);var e=l.qc().$implicit;return l.qc(2).removeFile(e)})),l.Pc(2,"\xd7"),l.Zb(),l.Zb()}if(2&e){var n=l.qc().$implicit;l.Mc("background-image",n.urlStyle,l.Nb)}}function h(e,t){1&e&&l.Vb(0,"nb-icon",9)}function b(e,t){if(1&e){var a=l.bc();l.Yb(0),l.Nc(1,d,3,2,"div",6),l.ac(2,"div"),l.Nc(3,h,1,0,"nb-icon",7),l.ac(4,"span",8),l.mc("click",(function(){l.Hc(a);var e=t.$implicit;return l.qc(2).removeFile(e)})),l.Pc(5,"\xd7"),l.Zb(),l.Zb(),l.Xb()}if(2&e){var n=t.$implicit;l.Gb(1),l.wc("ngIf",n.urlStyle),l.Gb(2),l.wc("ngIf",!n.urlStyle)}}function y(e,t){if(1&e&&(l.ac(0,"div",4),l.Nc(1,b,6,2,"ng-container",5),l.Zb()),2&e){var a=l.qc();l.Gb(1),l.wc("ngForOf",a.droppedFiles)}}function v(e,t){if(1&e&&l.Vb(0,"nb-icon",13),2&e){var a=l.qc(2);l.wc("icon",a.buttonIcon)}}function w(e,t){if(1&e&&l.Pc(0),2&e){var a=l.qc(2);l.Qc(a.buttonTitle)}}function F(e,t){if(1&e){var a=l.bc();l.ac(0,"button",10),l.mc("click",(function(){return l.Hc(a),l.qc().sendMessage()})),l.Nc(1,v,1,1,"nb-icon",11),l.Nc(2,w,1,1,"ng-template",null,12,l.Oc),l.Zb()}if(2&e){var n=l.Ec(3),s=l.qc();l.Lb("with-icon",!s.buttonTitle),l.wc("status",s.getButtonStatus()),l.Gb(1),l.wc("ngIf",!s.buttonTitle)("ngIfElse",n)}}var x=function(){function e(e,t){this.cd=e,this.domSanitizer=t,this.status="basic",this.inputFocus=!1,this.inputHover=!1,this.droppedFiles=[],this.imgDropTypes=["image/png","image/jpeg","image/gif"],this.message="",this.messagePlaceholder="Type a message",this.buttonTitle="",this.buttonIcon="paper-plane-outline",this.showButton=!0,this.dropFiles=!1,this.dropFilePlaceholder="Drop file to send",this.send=new l.o,this.fileOver=!1}return e.prototype.onDrop=function(e){var t=this;if(this.dropFiles&&(e.preventDefault(),e.stopPropagation(),this.fileOver=!1,e.dataTransfer&&e.dataTransfer.files))for(var a=function(e){var a=e;if(n.imgDropTypes.includes(e.type)){var s=new FileReader;s.onload=function(e){a.src=e.target.result,a.urlStyle=t.domSanitizer.bypassSecurityTrustStyle("url("+a.src+")"),t.cd.detectChanges()},s.readAsDataURL(e)}n.droppedFiles.push(a)},n=this,s=0,r=e.dataTransfer.files;s<r.length;s++)a(r[s])},e.prototype.removeFile=function(e){var t=this.droppedFiles.indexOf(e);t>=0&&this.droppedFiles.splice(t,1)},e.prototype.onDragOver=function(){this.dropFiles&&(this.fileOver=!0)},e.prototype.onDragLeave=function(){this.dropFiles&&(this.fileOver=!1)},e.prototype.sendMessage=function(){(this.droppedFiles.length||String(this.message).trim().length)&&(this.send.emit({message:this.message,files:this.droppedFiles}),this.message="",this.droppedFiles=[])},e.prototype.setStatus=function(e){this.status!==e&&(this.status=e,this.cd.detectChanges())},e.prototype.getInputStatus=function(){return this.fileOver?this.getHighlightStatus():this.inputFocus||this.inputHover?this.status:"basic"},e.prototype.getButtonStatus=function(){return this.getHighlightStatus()},e.prototype.getHighlightStatus=function(){return"basic"===this.status||"control"===this.status?"primary":this.status},e.\u0275fac=function(t){return new(t||e)(l.Ub(l.h),l.Ub(u.b))},e.\u0275cmp=l.Ob({type:e,selectors:[["nb-chat-form"]],hostVars:2,hostBindings:function(e,t){1&e&&l.mc("drop",(function(e){return t.onDrop(e)}))("dragover",(function(){return t.onDragOver()}))("dragleave",(function(){return t.onDragLeave()})),2&e&&l.Lb("file-over",t.fileOver)},inputs:{message:"message",messagePlaceholder:"messagePlaceholder",buttonTitle:"buttonTitle",buttonIcon:"buttonIcon",showButton:"showButton",dropFiles:"dropFiles",dropFilePlaceholder:"dropFilePlaceholder"},outputs:{send:"send"},decls:4,vars:7,consts:[["class","dropped-files",4,"ngIf"],[1,"message-row"],["nbInput","","fullWidth","","type","text",3,"status","ngModel","placeholder","focus","blur","mouseenter","mouseleave","ngModelChange","keyup.enter"],["nbButton","","class","send-button",3,"status","with-icon","click",4,"ngIf"],[1,"dropped-files"],[4,"ngFor","ngForOf"],[3,"background-image",4,"ngIf"],["icon","file-text-outline","pack","nebular-essentials",4,"ngIf"],[1,"remove",3,"click"],["icon","file-text-outline","pack","nebular-essentials"],["nbButton","",1,"send-button",3,"status","click"],["pack","nebular-essentials",3,"icon",4,"ngIf","ngIfElse"],["title",""],["pack","nebular-essentials",3,"icon"]],template:function(e,t){1&e&&(l.Nc(0,y,2,1,"div",0),l.ac(1,"div",1),l.ac(2,"input",2),l.mc("focus",(function(){return t.inputFocus=!0}))("blur",(function(){return t.inputFocus=!1}))("mouseenter",(function(){return t.inputHover=!0}))("mouseleave",(function(){return t.inputHover=!1}))("ngModelChange",(function(e){return t.message=e}))("keyup.enter",(function(){return t.sendMessage()})),l.Zb(),l.Nc(3,F,4,5,"button",3),l.Zb()),2&e&&(l.wc("ngIf",null==t.droppedFiles?null:t.droppedFiles.length),l.Gb(2),l.Lb("with-button",t.showButton),l.xc("placeholder",t.fileOver?t.dropFilePlaceholder:t.messagePlaceholder),l.wc("status",t.getInputStatus())("ngModel",t.message),l.Gb(1),l.wc("ngIf",t.showButton))},directives:[n.n,p.a,f.a,f.l,f.o,n.m,g.a,m.a],encapsulation:2,changeDetection:0}),e}(),O=a("2WDa");function D(e,t){if(1&e&&(l.ac(0,"p",2),l.Pc(1),l.ac(2,"time"),l.Pc(3),l.rc(4,"date"),l.Zb(),l.Zb()),2&e){var a=l.qc();l.Gb(1),l.Rc("",a.sender," "),l.Gb(2),l.Qc(l.tc(4,2,a.date,a.dateFormat))}}function I(e,t){if(1&e&&(l.ac(0,"p",3),l.Pc(1),l.Zb()),2&e){var a=l.qc();l.Gb(1),l.Qc(a.message)}}var q=function(){function e(){this.dateFormat="shortTime"}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Ob({type:e,selectors:[["nb-chat-message-text"]],inputs:{sender:"sender",message:"message",date:"date",dateFormat:"dateFormat"},decls:2,vars:2,consts:[["class","sender",4,"ngIf"],["class","text",4,"ngIf"],[1,"sender"],[1,"text"]],template:function(e,t){1&e&&(l.Nc(0,D,5,5,"p",0),l.Nc(1,I,2,1,"p",1)),2&e&&(l.wc("ngIf",t.sender||t.date),l.Gb(1),l.wc("ngIf",t.message))},directives:[n.n],pipes:[n.e],encapsulation:2,changeDetection:0}),e}(),j=function(){return(j=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var s in t=arguments[a])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)};function S(e,t){if(1&e&&l.Vb(0,"nb-icon",7),2&e){var a=l.qc().$implicit;l.wc("icon",a.icon)}}function M(e,t){if(1&e&&l.Vb(0,"div"),2&e){var a=l.qc().$implicit;l.Mc("background-image",a.urlStyle,l.Nb)}}function P(e,t){if(1&e&&(l.ac(0,"a",4),l.Nc(1,S,1,1,"nb-icon",5),l.Nc(2,M,1,2,"div",6),l.Zb()),2&e){var a=t.$implicit;l.wc("href",a.url,l.Jc),l.Gb(1),l.wc("ngIf",!a.urlStyle&&a.icon),l.Gb(1),l.wc("ngIf",a.urlStyle)}}function z(e,t){if(1&e&&(l.Yb(0),l.ac(1,"div",2),l.Nc(2,P,3,3,"a",3),l.Zb(),l.Xb()),2&e){var a=l.qc();l.Gb(2),l.wc("ngForOf",a.readyFiles)}}function G(e,t){if(1&e&&l.Vb(0,"nb-icon",7),2&e){var a=l.qc(2);l.wc("icon",a.readyFiles[0].icon)}}function N(e,t){if(1&e&&l.Vb(0,"div"),2&e){var a=l.qc(2);l.Mc("background-image",a.readyFiles[0].urlStyle,l.Nb)}}function B(e,t){if(1&e&&(l.Yb(0),l.ac(1,"a",4),l.Nc(2,G,1,1,"nb-icon",5),l.Nc(3,N,1,2,"div",6),l.Zb(),l.Xb()),2&e){var a=l.qc();l.Gb(1),l.wc("href",a.readyFiles[0].url,l.Jc),l.Gb(1),l.wc("ngIf",!a.readyFiles[0].urlStyle&&a.readyFiles[0].icon),l.Gb(1),l.wc("ngIf",a.readyFiles[0].urlStyle)}}var Z=function(){function e(e,t){this.cd=e,this.domSanitizer=t,this.dateFormat="shortTime"}return Object.defineProperty(e.prototype,"files",{set:function(e){var t=this;this.readyFiles=(e||[]).map((function(e){var a=t.isImage(e);return j(j({},e),{urlStyle:a&&t.domSanitizer.bypassSecurityTrustStyle("url("+e.url+")"),isImage:a})})),this.cd.detectChanges()},enumerable:!0,configurable:!0}),e.prototype.isImage=function(e){var t=e.type;return!!t&&["image/png","image/jpeg","image/gif"].includes(t)},e.\u0275fac=function(t){return new(t||e)(l.Ub(l.h),l.Ub(u.b))},e.\u0275cmp=l.Ob({type:e,selectors:[["nb-chat-message-file"]],inputs:{message:"message",sender:"sender",date:"date",dateFormat:"dateFormat",files:"files"},decls:4,vars:7,consts:[[3,"sender","date","dateFormat","message"],[4,"ngIf"],[1,"message-content-group"],["target","_blank",3,"href",4,"ngFor","ngForOf"],["target","_blank",3,"href"],[3,"icon",4,"ngIf"],[3,"background-image",4,"ngIf"],[3,"icon"]],template:function(e,t){1&e&&(l.ac(0,"nb-chat-message-text",0),l.Pc(1),l.Zb(),l.Nc(2,z,3,1,"ng-container",1),l.Nc(3,B,4,3,"ng-container",1)),2&e&&(l.wc("sender",t.sender)("date",t.date)("dateFormat",t.dateFormat)("message",t.message),l.Gb(1),l.Rc(" ",t.message," "),l.Gb(1),l.wc("ngIf",(null==t.readyFiles?null:t.readyFiles.length)>1),l.Gb(1),l.wc("ngIf",1===(null==t.readyFiles?null:t.readyFiles.length)))},directives:[q,n.n,n.m,g.a],encapsulation:2,changeDetection:0}),e}();function C(e,t){if(1&e&&(l.ac(0,"p",3),l.Pc(1),l.ac(2,"time"),l.Pc(3),l.rc(4,"date"),l.Zb(),l.Zb()),2&e){var a=l.qc();l.Gb(1),l.Rc("",a.sender," "),l.Gb(2),l.Qc(l.tc(4,2,a.date,a.dateFormat))}}var k=function(){function e(){this.dateFormat="shortTime"}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Ob({type:e,selectors:[["nb-chat-message-quote"]],inputs:{message:"message",sender:"sender",date:"date",dateFormat:"dateFormat",quote:"quote"},decls:5,vars:4,consts:[["class","sender",4,"ngIf"],[1,"quote"],[3,"message"],[1,"sender"]],template:function(e,t){1&e&&(l.Nc(0,C,5,5,"p",0),l.ac(1,"p",1),l.Pc(2),l.Zb(),l.ac(3,"nb-chat-message-text",2),l.Pc(4),l.Zb()),2&e&&(l.wc("ngIf",t.sender||t.date),l.Gb(2),l.Rc(" ",t.quote," "),l.Gb(1),l.wc("message",t.message),l.Gb(1),l.Rc(" ",t.message," "))},directives:[n.n,q],pipes:[n.e],encapsulation:2,changeDetection:0}),e}(),V=function(){return function(){}}(),T=function(e){return[e]},J=function(){function e(e){this.dateFormat="shortTime",this.mapKey=e.messageGoogleMapKey}return Object.defineProperty(e.prototype,"file",{get:function(){return{url:"https://maps.googleapis.com/maps/api/staticmap?center="+this.latitude+","+this.longitude+"&zoom=12&size=400x400&key="+this.mapKey,type:"image/png",icon:"location"}},enumerable:!0,configurable:!0}),e.\u0275fac=function(t){return new(t||e)(l.Ub(V))},e.\u0275cmp=l.Ob({type:e,selectors:[["nb-chat-message-map"]],inputs:{message:"message",sender:"sender",date:"date",dateFormat:"dateFormat",latitude:"latitude",longitude:"longitude"},decls:1,vars:7,consts:[[3,"files","message","sender","date","dateFormat"]],template:function(e,t){1&e&&l.Vb(0,"nb-chat-message-file",0),2&e&&l.wc("files",l.Ac(5,T,t.file))("message",t.message)("sender",t.sender)("date",t.date)("dateFormat",t.dateFormat)},directives:[Z],encapsulation:2,changeDetection:0}),e}();function A(e,t){if(1&e&&(l.Yb(0),l.Pc(1),l.Xb()),2&e){var a=l.qc(2);l.Gb(1),l.Rc(" ",a.getInitials()," ")}}function E(e,t){if(1&e&&(l.ac(0,"div",7),l.Nc(1,A,2,1,"ng-container",8),l.Zb()),2&e){var a=l.qc();l.Mc("background-image",a.avatarStyle,l.Nb),l.Gb(1),l.wc("ngIf",!a.avatarStyle)}}function H(e,t){if(1&e&&l.Vb(0,"nb-chat-message-file",9),2&e){var a=l.qc();l.wc("sender",a.sender)("date",a.date)("dateFormat",a.dateFormat)("message",a.message)("files",a.files)}}function _(e,t){if(1&e&&l.Vb(0,"nb-chat-message-quote",10),2&e){var a=l.qc();l.wc("sender",a.sender)("date",a.date)("dateFormat",a.dateFormat)("message",a.message)("quote",a.quote)}}function U(e,t){if(1&e&&l.Vb(0,"nb-chat-message-map",11),2&e){var a=l.qc();l.wc("sender",a.sender)("date",a.date)("message",a.message)("latitude",a.latitude)("longitude",a.longitude)}}function R(e,t){if(1&e&&l.Vb(0,"nb-chat-message-text",12),2&e){var a=l.qc();l.wc("sender",a.sender)("date",a.date)("dateFormat",a.dateFormat)("message",a.message)}}var $=function(){function e(e){this.domSanitizer=e,this._reply=!1}return Object.defineProperty(e.prototype,"flyInOut",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"notReply",{get:function(){return!this.reply},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"reply",{get:function(){return this._reply},set:function(e){this._reply=Object(c.a)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"avatar",{set:function(e){this.avatarStyle=e?this.domSanitizer.bypassSecurityTrustStyle("url("+e+")"):null},enumerable:!0,configurable:!0}),e.prototype.getInitials=function(){return this.sender?this.sender.split(" ").map((function(e){return e.charAt(0)})).splice(0,2).join("").toUpperCase():""},e.\u0275fac=function(t){return new(t||e)(l.Ub(u.b))},e.\u0275cmp=l.Ob({type:e,selectors:[["nb-chat-message"]],hostVars:5,hostBindings:function(e,t){2&e&&(l.Uc("@flyInOut",t.flyInOut),l.Lb("not-reply",t.notReply)("reply",t.reply))},inputs:{reply:"reply",message:"message",sender:"sender",date:"date",dateFormat:"dateFormat",files:"files",quote:"quote",latitude:"latitude",longitude:"longitude",avatar:"avatar",type:"type"},decls:7,vars:5,consts:[["class","avatar",3,"background-image",4,"ngIf"],[1,"message"],[3,"ngSwitch"],[3,"sender","date","dateFormat","message","files",4,"ngSwitchCase"],[3,"sender","date","dateFormat","message","quote",4,"ngSwitchCase"],[3,"sender","date","message","latitude","longitude",4,"ngSwitchCase"],[3,"sender","date","dateFormat","message",4,"ngSwitchDefault"],[1,"avatar"],[4,"ngIf"],[3,"sender","date","dateFormat","message","files"],[3,"sender","date","dateFormat","message","quote"],[3,"sender","date","message","latitude","longitude"],[3,"sender","date","dateFormat","message"]],template:function(e,t){1&e&&(l.Nc(0,E,2,3,"div",0),l.ac(1,"div",1),l.Yb(2,2),l.Nc(3,H,1,5,"nb-chat-message-file",3),l.Nc(4,_,1,5,"nb-chat-message-quote",4),l.Nc(5,U,1,5,"nb-chat-message-map",5),l.Nc(6,R,1,4,"nb-chat-message-text",6),l.Xb(),l.Zb()),2&e&&(l.wc("ngIf",!t.reply),l.Gb(2),l.wc("ngSwitch",t.type),l.Gb(1),l.wc("ngSwitchCase","file"),l.Gb(1),l.wc("ngSwitchCase","quote"),l.Gb(1),l.wc("ngSwitchCase","map"))},directives:[n.n,n.o,n.p,n.q,Z,k,J,q],encapsulation:2,data:{animation:[Object(O.l)("flyInOut",[Object(O.i)("in",Object(O.j)({transform:"translateX(0)"})),Object(O.k)("void => *",[Object(O.j)({transform:"translateX(-100%)"}),Object(O.e)(80)]),Object(O.k)("* => void",[Object(O.e)(80,Object(O.j)({transform:"translateX(100%)"}))])])]},changeDetection:0}),e}(),Q=["scrollable"];function L(e,t){if(1&e&&(l.ac(0,"p",6),l.Pc(1),l.Zb()),2&e){var a=l.qc();l.Gb(1),l.Qc(a.noMessagesPlaceholder)}}var Y=[[["nb-chat-message"]],[["nb-chat-form"]]],X=["nb-chat-message","nb-chat-form"],W=function(){function e(){this._status="basic",this.noMessagesPlaceholder="No messages yet.",this._scrollBottom=!0}return Object.defineProperty(e.prototype,"status",{get:function(){return this._status},set:function(e){e||(Object(c.b)("NbChat"),e="basic"),this._status=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scrollBottom",{get:function(){return this._scrollBottom},set:function(e){this._scrollBottom=Object(c.a)(e)},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(e){"status"in e&&this.updateFormStatus()},e.prototype.ngAfterContentInit=function(){this.updateFormStatus()},e.prototype.ngAfterViewInit=function(){var e=this;this.messages.changes.subscribe((function(t){e.messages=t,e.updateView()})),this.updateView()},e.prototype.updateView=function(){this.scrollBottom&&this.scrollListBottom()},e.prototype.scrollListBottom=function(){this.scrollable.nativeElement.scrollTop=this.scrollable.nativeElement.scrollHeight},e.prototype.updateFormStatus=function(){this.chatForm&&this.chatForm.setStatus(this.status)},Object.defineProperty(e.prototype,"tiny",{get:function(){return"tiny"===this.size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"small",{get:function(){return"small"===this.size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"medium",{get:function(){return"medium"===this.size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"large",{get:function(){return"large"===this.size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"giant",{get:function(){return"giant"===this.size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"primary",{get:function(){return"primary"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"success",{get:function(){return"success"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"info",{get:function(){return"info"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"warning",{get:function(){return"warning"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"danger",{get:function(){return"danger"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"basic",{get:function(){return"basic"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return"control"===this.status},enumerable:!0,configurable:!0}),e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Ob({type:e,selectors:[["nb-chat"]],contentQueries:function(e,t,a){var n;1&e&&(l.Mb(a,x,!0),l.Mb(a,$,!1)),2&e&&(l.Dc(n=l.nc())&&(t.chatForm=n.first),l.Dc(n=l.nc())&&(t.messages=n))},viewQuery:function(e,t){var a;1&e&&l.Vc(Q,!0),2&e&&l.Dc(a=l.nc())&&(t.scrollable=a.first)},hostVars:24,hostBindings:function(e,t){2&e&&l.Lb("size-tiny",t.tiny)("size-small",t.small)("size-medium",t.medium)("size-large",t.large)("size-giant",t.giant)("status-primary",t.primary)("status-success",t.success)("status-info",t.info)("status-warning",t.warning)("status-danger",t.danger)("status-basic",t.basic)("status-control",t.control)},inputs:{title:"title",size:"size",status:"status",noMessagesPlaceholder:"noMessagesPlaceholder",scrollBottom:"scrollBottom"},features:[l.Eb()],ngContentSelectors:X,decls:9,vars:2,consts:[[1,"header"],[1,"scrollable"],["scrollable",""],[1,"messages"],["class","no-messages",4,"ngIf"],[1,"form"],[1,"no-messages"]],template:function(e,t){1&e&&(l.vc(Y),l.ac(0,"div",0),l.Pc(1),l.Zb(),l.ac(2,"div",1,2),l.ac(4,"div",3),l.uc(5),l.Nc(6,L,2,1,"p",4),l.Zb(),l.Zb(),l.ac(7,"div",5),l.uc(8,1),l.Zb()),2&e&&(l.Gb(1),l.Qc(t.title),l.Gb(5),l.wc("ngIf",!(null!=t.messages&&t.messages.length)))},directives:[n.n],styles:["[_nghost-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;position:relative;height:100%}"]}),e}(),K=function(){function e(){}return e.forRoot=function(t){return{ngModule:e,providers:[{provide:V,useValue:t||{}}]}},e.forChild=function(t){return{ngModule:e,providers:[{provide:V,useValue:t||{}}]}},e.\u0275mod=l.Sb({type:e}),e.\u0275inj=l.Rb({factory:function(t){return new(t||e)},imports:[[s.a,o.a,i.a,r.a]]}),e}(),ee=a("0AKQ"),te=a("DUip");function ae(e,t){if(1&e&&l.Vb(0,"nb-chat-message",4),2&e){var a=t.$implicit;l.wc("type",a.type)("message",a.text)("reply",a.reply)("sender",a.user.name)("date",a.date)("files",a.files)("avatar",a.user.avatar)}}function ne(e,t){if(1&e){var a=l.bc();l.ac(0,"nb-chat",1),l.Nc(1,ae,1,7,"nb-chat-message",2),l.ac(2,"nb-chat-form",3),l.mc("send",(function(e){l.Hc(a);var n=t.$implicit;return l.qc().sendMessage(n.messages,e)})),l.Zb(),l.Zb()}if(2&e){var n=t.$implicit;l.wc("title",n.title)("status",n.status),l.Gb(1),l.wc("ngForOf",n.messages)}}var se=function(){function e(){this.chats=[{status:"success",title:"Nebular Conversational UI Success",messages:[{text:"Success!",date:new Date,reply:!1,user:{name:"Bot",avatar:"https://s3.amazonaws.com/pix.iemoji.com/images/emoji/apple/ios-12/256/robot-face.png"}}]},{status:"danger",title:"Nebular Conversational UI Danger",messages:[{text:"Danger!",date:new Date,reply:!1,user:{name:"Bot",avatar:"https://s3.amazonaws.com/pix.iemoji.com/images/emoji/apple/ios-12/256/robot-face.png"}}]},{status:"primary",title:"Nebular Conversational UI Primary",messages:[{text:"Primary!",date:new Date,reply:!1,user:{name:"Bot",avatar:"https://s3.amazonaws.com/pix.iemoji.com/images/emoji/apple/ios-12/256/robot-face.png"}}]},{status:"info",title:"Nebular Conversational UI Info",messages:[{text:"Info!",date:new Date,reply:!1,user:{name:"Bot",avatar:"https://s3.amazonaws.com/pix.iemoji.com/images/emoji/apple/ios-12/256/robot-face.png"}}]},{status:"warning",title:"Nebular Conversational UI Warning",messages:[{text:"Warning!",date:new Date,reply:!1,user:{name:"Bot",avatar:"https://s3.amazonaws.com/pix.iemoji.com/images/emoji/apple/ios-12/256/robot-face.png"}}]}]}return e.prototype.sendMessage=function(e,t){e.push({text:t.message,date:new Date,reply:!0,user:{name:"Jonh Doe",avatar:"https://techcrunch.com/wp-content/uploads/2015/08/safe_image.gif"}})},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Ob({type:e,selectors:[["nb-chat-colors"]],decls:1,vars:1,consts:[["size","small",3,"title","status",4,"ngFor","ngForOf"],["size","small",3,"title","status"],[3,"type","message","reply","sender","date","files","avatar",4,"ngFor","ngForOf"],[3,"send"],[3,"type","message","reply","sender","date","files","avatar"]],template:function(e,t){1&e&&l.Nc(0,ne,3,3,"nb-chat",0),2&e&&l.wc("ngForOf",t.chats)},directives:[n.m,W,x,$],styles:["nb-layout-column {\n      justify-content: center;\n      display: flex;\n    }\n    nb-chat[_ngcontent-%COMP%] {\n      width: 500px;\n      margin: 0.5rem 0 2rem 2rem;\n    }"]}),e}();function re(e,t){if(1&e&&l.Vb(0,"nb-chat-message",4),2&e){var a=t.$implicit;l.wc("type",a.type)("message",a.text)("reply",a.reply)("sender",a.user.name)("date",a.date)("files",a.files)("quote",a.quote)("latitude",a.latitude)("longitude",a.longitude)("avatar",a.user.avatar)}}function ie(e,t){if(1&e&&l.Vb(0,"nb-chat-message",4),2&e){var a=t.$implicit;l.wc("type",a.type)("message",a.text)("reply",!a.reply)("sender",a.user.name)("date",a.date)("files",a.files)("quote",a.quote)("latitude",a.latitude)("longitude",a.longitude)("avatar",a.user.avatar)}}var oe=function(){function e(){this.messages=[]}return e.prototype.sendMessage=function(e,t,a,n){var s=e.files?e.files.map((function(e){return{url:e.src,type:e.type,icon:"file-text-outline"}})):[];this.messages.push({text:e.message,date:new Date,reply:n,type:s.length?"file":"text",files:s,user:{name:t,avatar:a}})},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Ob({type:e,selectors:[["nb-chat-conversation-showcase"]],decls:6,vars:6,consts:[["title","Jake","size","medium","status","warning"],[3,"type","message","reply","sender","date","files","quote","latitude","longitude","avatar",4,"ngFor","ngForOf"],[3,"showButton","dropFiles","send"],["title","John","size","medium","status","success"],[3,"type","message","reply","sender","date","files","quote","latitude","longitude","avatar"]],template:function(e,t){1&e&&(l.ac(0,"nb-chat",0),l.Nc(1,re,1,10,"nb-chat-message",1),l.ac(2,"nb-chat-form",2),l.mc("send",(function(e){return t.sendMessage(e,"Jake","http://www.reactiongifs.com/r/wnd1.gif",!0)})),l.Zb(),l.Zb(),l.ac(3,"nb-chat",3),l.Nc(4,ie,1,10,"nb-chat-message",1),l.ac(5,"nb-chat-form",2),l.mc("send",(function(e){return t.sendMessage(e,"John","https://i.gifer.com/no.gif",!1)})),l.Zb(),l.Zb()),2&e&&(l.Gb(1),l.wc("ngForOf",t.messages),l.Gb(1),l.wc("showButton",!1)("dropFiles",!0),l.Gb(2),l.wc("ngForOf",t.messages),l.Gb(1),l.wc("showButton",!1)("dropFiles",!0))},directives:[W,n.m,x,$],styles:["nb-layout-column {\n      display: flex;\n      justify-content: center;\n    }\n    [_nghost-%COMP%] {\n      display: flex;\n    }\n    nb-chat[_ngcontent-%COMP%] {\n      width: 300px;\n      margin: 1rem;\n    }"]}),e}();function ce(e,t){if(1&e&&l.Vb(0,"nb-chat-message",3),2&e){var a=t.$implicit;l.wc("type",a.type)("message",a.text)("reply",a.reply)("sender",a.user.name)("date",a.date)("files",a.files)("avatar",a.user.avatar)}}var le=function(){function e(){this.messages=[{text:"Drag & drop a file or a group of files.",date:new Date,reply:!0,user:{name:"Bot",avatar:"https://i.gifer.com/no.gif"}}]}return e.prototype.sendMessage=function(e){var t=e.files?e.files.map((function(e){return{url:e.src,type:e.type,icon:"file-text-outline"}})):[];this.messages.push({text:e.message,date:new Date,files:t,type:t.length?"file":"text",reply:!0,user:{name:"Jonh Doe",avatar:"https://i.gifer.com/no.gif"}})},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Ob({type:e,selectors:[["nb-chat-drop"]],decls:3,vars:2,consts:[["title","Drag & Drop chat","size","medium"],[3,"type","message","reply","sender","date","files","avatar",4,"ngFor","ngForOf"],[3,"dropFiles","send"],[3,"type","message","reply","sender","date","files","avatar"]],template:function(e,t){1&e&&(l.ac(0,"nb-chat",0),l.Nc(1,ce,1,7,"nb-chat-message",1),l.ac(2,"nb-chat-form",2),l.mc("send",(function(e){return t.sendMessage(e)})),l.Zb(),l.Zb()),2&e&&(l.Gb(1),l.wc("ngForOf",t.messages),l.Gb(1),l.wc("dropFiles",!0))},directives:[W,n.m,x,$],styles:["nb-layout-column {\n      justify-content: center;\n      display: flex;\n    }\n    nb-chat[_ngcontent-%COMP%] {\n      width: 500px;\n      height: 80vw;\n    }"]}),e}(),ue=function(){return{url:"http://www.reactiongifs.com/r/wnd1.gif",type:"image/gif"}},pe=function(e){return[e]},fe=function(){return{url:"https://picsum.photos/320/240/?image=387",type:"image/jpeg"}},ge=function(){return{url:"http://google.com",icon:"file-text-outline"}},me=function(e,t,a){return[e,t,a]},de=function(){function e(){this.date=new Date}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Ob({type:e,selectors:[["nb-chat-message-type-showcase"]],decls:7,vars:35,consts:[["title","Message Types","size","large"],["message","Gif message","type","file","sender","John Doe","avatar","https://i.gifer.com/no.gif",3,"reply","date","files"],["message","Image message","type","file","sender","John Doe","avatar","https://i.gifer.com/no.gif",3,"reply","date","files"],["message","Map message","type","map","sender","John Doe","avatar","https://i.gifer.com/no.gif",3,"reply","date","latitude","longitude"],["message","File message","type","file","sender","John Doe",3,"reply","date","files","avatar"],["message","Quote message","type","quote","sender","John Doe","quote","Quooted message here","avatar","https://i.gifer.com/no.gif",3,"reply","date"],["message","Group of files message","type","file","sender","John Doe","avatar","https://i.gifer.com/no.gif",3,"reply","date","files"]],template:function(e,t){1&e&&(l.ac(0,"nb-chat",0),l.Vb(1,"nb-chat-message",1),l.Vb(2,"nb-chat-message",2),l.Vb(3,"nb-chat-message",3),l.Vb(4,"nb-chat-message",4),l.Vb(5,"nb-chat-message",5),l.Vb(6,"nb-chat-message",6),l.Zb()),2&e&&(l.Gb(1),l.wc("reply",!0)("date",t.date)("files",l.Ac(20,pe,l.zc(19,ue))),l.Gb(1),l.wc("reply",!0)("date",t.date)("files",l.Ac(23,pe,l.zc(22,fe))),l.Gb(1),l.wc("reply",!0)("date",t.date)("latitude",53.914321)("longitude",27.5998355),l.Gb(1),l.wc("reply",!0)("date",t.date)("files",l.Ac(26,pe,l.zc(25,ge)))("avatar","https://i.gifer.com/no.gif"),l.Gb(1),l.wc("reply",!0)("date",t.date),l.Gb(1),l.wc("reply",!0)("date",t.date)("files",l.Cc(31,me,l.zc(28,ge),l.zc(29,fe),l.zc(30,ue))))},directives:[W,$],styles:["nb-chat[_ngcontent-%COMP%] {\n      margin: 0 auto;\n      width: 500px;\n    }"]}),e}(),he=[{text:"Hello, how are you? This should be a very long message so that we can test how it fit into the screen.",reply:!1,date:new Date,user:{name:"John Doe",avatar:"https://i.gifer.com/no.gif"}},{text:"Hello, how are you? This should be a very long message so that we can test how it fit into the screen.",reply:!0,date:new Date,user:{name:"John Doe",avatar:"https://i.gifer.com/no.gif"}},{text:"Hello, how are you?",reply:!1,date:new Date,user:{name:"John Doe",avatar:""}},{text:"Hey looks at that pic I just found!",reply:!1,date:new Date,type:"file",files:[{url:"https://i.gifer.com/no.gif",type:"image/jpeg",icon:!1}],user:{name:"John Doe",avatar:""}},{text:"What do you mean by that?",reply:!1,date:new Date,type:"quote",quote:"Hello, how are you? This should be a very long message so that we can test how it fit into the screen.",user:{name:"John Doe",avatar:""}},{text:"Attached is an archive I mentioned",reply:!0,date:new Date,type:"file",files:[{url:"https://i.gifer.com/no.gif",icon:"file-text-outline"}],user:{name:"John Doe",avatar:""}},{text:"Meet me there",reply:!1,date:new Date,type:"map",latitude:40.714728,longitude:-73.998672,user:{name:"John Doe",avatar:""}}],be="https://s3.amazonaws.com/pix.iemoji.com/images/emoji/apple/ios-12/256/robot-face.png",ye=["https://media.tenor.com/images/ac287fd06319e47b1533737662d5bfe8/tenor.gif","https://i.gifer.com/no.gif","https://techcrunch.com/wp-content/uploads/2015/08/safe_image.gif","http://www.reactiongifs.com/r/wnd1.gif"],ve=["https://picsum.photos/320/240/?image=357","https://picsum.photos/320/240/?image=556","https://picsum.photos/320/240/?image=339","https://picsum.photos/320/240/?image=387","https://picsum.photos/320/240/?image=30","https://picsum.photos/320/240/?image=271"],we=[{regExp:/([H,h]ey)|([H,h]i)/g,answerArray:["Hello!","Yes?","Yes, milord?","What can I do for you?"],type:"text",reply:{text:"",reply:!1,date:new Date,user:{name:"Bot",avatar:be}}},{regExp:/([H,h]elp)/g,answerArray:['No problem! Try sending a message containing word "hey", "image",\n    "gif", "file", "map", "quote", "file group" to see different message components'],type:"text",reply:{text:"",reply:!1,date:new Date,user:{name:"Bot",avatar:be}}},{regExp:/([I,i]mage)|(IMAGE)|([P,p]ic)|(Picture)/g,answerArray:["Hey look at this!","Ready to work","Yes, master."],type:"pic",reply:{text:"",reply:!1,date:new Date,type:"file",files:[{url:"",type:"image/jpeg"}],user:{name:"Bot",avatar:be}}},{regExp:/([G,g]if)|(GIF)/g,type:"gif",answerArray:["No problem","Well done","You got it man"],reply:{text:"",reply:!1,date:new Date,type:"file",files:[{url:"",type:"image/gif"}],user:{name:"Bot",avatar:be}}},{regExp:/([F,f]ile group)|(FILE)/g,type:"group",answerArray:["Take it!","Job Done.","As you wish"],reply:{text:"",reply:!1,date:new Date,type:"file",files:[{url:"http://google.com",icon:"file-text-outline"},{url:"",type:"image/gif"},{url:"",type:"image/jpeg"}],icon:"file-text-outline",user:{name:"Bot",avatar:be}}},{regExp:/([F,f]ile)|(FILE)/g,type:"file",answerArray:["Take it!","Job Done.","As you wish"],reply:{text:"",reply:!1,date:new Date,type:"file",files:[{url:"http://google.com",icon:"file-text-outline"}],icon:"file-text-outline",user:{name:"Bot",avatar:be}}},{regExp:/([M,m]ap)|(MAP)/g,type:"map",answerArray:["Done.","My sight is yours.","I shall be your eyes."],reply:{text:"",reply:!1,date:new Date,type:"map",latitude:53.914321,longitude:27.5998355,user:{name:"Bot",avatar:be}}},{regExp:/([Q,q]uote)|(QUOTE)/g,type:"quote",answerArray:["Quoted!","Say no more.","I gladly obey."],reply:{text:"",reply:!1,date:new Date,type:"quote",quote:"",user:{name:"Bot",avatar:be}}},{regExp:/(.*)/g,answerArray:['Hello there! Try typing "help"'],type:"text",reply:{text:"",reply:!1,date:new Date,user:{name:"Bot",avatar:be}}}],Fe=function(){return(Fe=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var s in t=arguments[a])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)},xe=function(){function e(){}return e.prototype.loadMessages=function(){return he},e.prototype.loadBotReplies=function(){return we},e.prototype.reply=function(e){var t=this.loadBotReplies().find((function(t){return-1!==e.search(t.regExp)}));return"quote"===t.reply.type&&(t.reply.quote=e),"gif"===t.type&&(t.reply.files[0].url=ye[Math.floor(Math.random()*ye.length)]),"pic"===t.type&&(t.reply.files[0].url=ve[Math.floor(Math.random()*ve.length)]),"group"===t.type&&(t.reply.files[1].url=ye[Math.floor(Math.random()*ye.length)],t.reply.files[2].url=ve[Math.floor(Math.random()*ve.length)]),t.reply.text=t.answerArray[Math.floor(Math.random()*t.answerArray.length)],Fe({},t.reply)},e.\u0275prov=l.Qb({token:e,factory:e.\u0275fac=function(t){return new(t||e)}}),e}();function Oe(e,t){if(1&e&&l.Vb(0,"nb-chat-message",3),2&e){var a=t.$implicit;l.wc("type",a.type)("message",a.text)("reply",a.reply)("sender",a.user.name)("date",a.date)("files",a.files)("quote",a.quote)("latitude",a.latitude)("longitude",a.longitude)("avatar",a.user.avatar)}}function De(e,t){if(1&e&&l.Vb(0,"nb-chat-message",4),2&e){var a=t.$implicit;l.wc("type",a.type)("message",a.text)("reply",a.reply)("sender",a.user.name)("date",a.date)("files",a.files)("avatar",a.user.avatar)}}function Ie(e,t){if(1&e){var a=l.bc();l.ac(0,"nb-chat",1),l.Nc(1,De,1,7,"nb-chat-message",2),l.ac(2,"nb-chat-form",3),l.mc("send",(function(e){l.Hc(a);var n=t.$implicit;return l.qc().sendMessage(n.messages,e)})),l.Zb(),l.Zb()}if(2&e){var n=t.$implicit;l.wc("title",n.title)("size",n.size),l.Gb(1),l.wc("ngForOf",n.messages)}}function qe(e,t){if(1&e&&l.Vb(0,"nb-chat-message",4),2&e){var a=t.$implicit;l.wc("type",a.type)("message",a.text)("reply",a.reply)("sender",a.user.name)("date",a.date)("files",a.files)("quote",a.quote)("latitude",a.latitude)("longitude",a.longitude)("avatar",a.user.avatar)}}function je(e,t){if(1&e){var a=l.bc();l.ac(0,"nb-chat",1),l.Nc(1,qe,1,10,"nb-chat-message",2),l.ac(2,"nb-chat-form",3),l.mc("send",(function(e){return l.Hc(a),l.qc().sendMessage(e)})),l.Zb(),l.Zb()}if(2&e){var n=t.$implicit,s=l.qc();l.wc("size",n.size)("status",n.status),l.Gb(1),l.wc("ngForOf",s.messages)}}var Se=[{path:"chat-colors.component",component:se},{path:"chat-conversation-showcase.component",component:oe},{path:"chat-drop.component",component:le},{path:"chat-message-types-showcase.component",component:de},{path:"chat-showcase.component",component:function(){function e(e){this.chatShowcaseService=e,this.messages=this.chatShowcaseService.loadMessages()}return e.prototype.sendMessage=function(e){var t=this,a=e.files?e.files.map((function(e){return{url:e.src,type:e.type,icon:"file-text-outline"}})):[];this.messages.push({text:e.message,date:new Date,reply:!0,type:a.length?"file":"text",files:a,user:{name:"Jonh Doe",avatar:"https://i.gifer.com/no.gif"}});var n=this.chatShowcaseService.reply(e.message);n&&setTimeout((function(){t.messages.push(n)}),500)},e.\u0275fac=function(t){return new(t||e)(l.Ub(xe))},e.\u0275cmp=l.Ob({type:e,selectors:[["nb-chat-showcase"]],features:[l.Fb([xe])],decls:3,vars:2,consts:[["title","Nebular Conversational UI","size","large"],[3,"type","message","reply","sender","date","files","quote","latitude","longitude","avatar",4,"ngFor","ngForOf"],[3,"dropFiles","send"],[3,"type","message","reply","sender","date","files","quote","latitude","longitude","avatar"]],template:function(e,t){1&e&&(l.ac(0,"nb-chat",0),l.Nc(1,Oe,1,10,"nb-chat-message",1),l.ac(2,"nb-chat-form",2),l.mc("send",(function(e){return t.sendMessage(e)})),l.Zb(),l.Zb()),2&e&&(l.Gb(1),l.wc("ngForOf",t.messages),l.Gb(1),l.wc("dropFiles",!0))},directives:[W,n.m,x,$],styles:["nb-layout-column {\n      justify-content: center;\n      display: flex;\n    }\n    nb-chat[_ngcontent-%COMP%] {\n      width: 500px;\n    }"]}),e}()},{path:"chat-sizes.component",component:function(){function e(){this.chats=[{title:"Nebular Conversational UI Small",messages:[{text:"Small!",date:new Date,reply:!0,user:{name:"Bot",avatar:"https://i.gifer.com/no.gif"}}],size:"small"},{title:"Nebular Conversational UI Medium",messages:[{text:"Medium!",date:new Date,reply:!0,user:{name:"Bot",avatar:"https://s3.amazonaws.com/pix.iemoji.com/images/emoji/apple/ios-12/256/robot-face.png"}}],size:"large"}]}return e.prototype.sendMessage=function(e,t){e.push({text:t.message,date:new Date,reply:!0,user:{name:"Jonh Doe",avatar:"https://techcrunch.com/wp-content/uploads/2015/08/safe_image.gif"}})},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Ob({type:e,selectors:[["nb-chat-sizes"]],decls:1,vars:1,consts:[["status","info",3,"title","size",4,"ngFor","ngForOf"],["status","info",3,"title","size"],[3,"type","message","reply","sender","date","files","avatar",4,"ngFor","ngForOf"],[3,"send"],[3,"type","message","reply","sender","date","files","avatar"]],template:function(e,t){1&e&&l.Nc(0,Ie,3,3,"nb-chat",0),2&e&&l.wc("ngForOf",t.chats)},directives:[n.m,W,x,$],styles:["nb-layout-column {\n      justify-content: center;\n      display: flex;\n    }\n    nb-chat[_ngcontent-%COMP%] {\n      width: 500px;\n      margin: 0.5rem 0 2rem 2rem;\n    }"]}),e}()},{path:"chat-test.component",component:function(){function e(){this.messages=[],this.sizes=["tiny","small","medium","large","giant"],this.statuses=["primary","success","info","warning","danger"],this.chats=this.prepareChats()}return e.prototype.prepareChats=function(){var e=this,t=[];return this.statuses.forEach((function(a){e.sizes.forEach((function(e){t.push({size:e,status:a})}))})),t},e.prototype.sendMessage=function(e){this.messages.push({text:e.message,date:new Date,reply:!0,user:{name:"Jonh Doe",avatar:"https://techcrunch.com/wp-content/uploads/2015/08/safe_image.gif"}})},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Ob({type:e,selectors:[["nb-chat-test"]],decls:1,vars:1,consts:[[3,"size","status",4,"ngFor","ngForOf"],[3,"size","status"],[3,"type","message","reply","sender","date","files","quote","latitude","longitude","avatar",4,"ngFor","ngForOf"],[3,"send"],[3,"type","message","reply","sender","date","files","quote","latitude","longitude","avatar"]],template:function(e,t){1&e&&l.Nc(0,je,3,3,"nb-chat",0),2&e&&l.wc("ngForOf",t.chats)},directives:[n.m,W,x,$],encapsulation:2}),e}()}],Me=function(){function e(){}return e.\u0275mod=l.Sb({type:e}),e.\u0275inj=l.Rb({factory:function(t){return new(t||e)},imports:[[te.g.forChild(Se)],te.g]}),e}();a.d(t,"ChatModule",(function(){return Pe}));var Pe=function(){function e(){}return e.\u0275mod=l.Sb({type:e}),e.\u0275inj=l.Rb({factory:function(t){return new(t||e)},imports:[[n.c,K.forRoot(),ee.a,Me]]}),e}()}}]);